<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book study</title>
    <link rel="stylesheet" href="./css/styles.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.min.js"></script>
    <script>
      pdfjsLib.GlobalWorkerOptions.workerSrc =
        "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.worker.min.js";
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bitter:ital,wght@0,100..900;1,100..900&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="container">
      <header>
        <img
          src="assets/pexels-soumenmaity-634770_top.jpg"
          alt=""
          id="headerImage"
        />
      </header>

      <!-- Link to your JavaScript file -->
      <script src="js/pic_switcher.js"></script>

      <main class="main-content">
        <h1 style="margin-top: 35px; margin-bottom: 30px">Study books</h1>

        <div id="pdf-viewer-container">
          <div id="navigation-controls">
            <button id="random-page">Random</button>
            <div class="input-group">
              <select id="chapter-select">
                <option value="" disabled selected>Ch</option>
                <option value="1">Cover</option>
                <option value="7">Preface</option>
                <option value="17">Introduction</option>
                <option value="21">Chapter 1[1-20]</option>
                <option value="27">Chapter 2 [21-32]</option>
                <option value="31">Chapter 3 [33-43]</option>
                <option value="35">Chapter 4 [44-59]</option>
                <option value="35">Chapter 5 [60-75]</option>
                <option value="35">Chapter 6 [76-89]</option>
                <option value="35">Chapter 7 [90-99]</option>
                <option value="35">Chapter 8 [100-115]</option>
                <option value="35">Chapter 9 [116-128]</option>
                <option value="35">Chapter 10 [129-145]</option>
                <option value="35">Chapter 11 [146-156]</option>
                <option value="35">Chapter 12 [157-166]</option>
                <option value="35">Chapter 13 [167-178]</option>
                <option value="35">Chapter 14 [179-196]</option>
                <option value="35">Chapter 15 [197-208]</option>
                <option value="173">A note on the text</option>
                <option value="181">License</option>
              </select>
              <button id="prev-page">Prev</button>
              <button id="next-page">Next</button>
              <input
                type="number"
                id="page-num"
                value="1"
                min="1"
                max="164"
                size="3"
              />
              <button id="go-page">Go</button>
            </div>
            <button id="download-pdf">Open in new Tab</button>
          </div>
          <canvas id="pdf-canvas"></canvas>
        </div>

        <script>
          document.addEventListener("DOMContentLoaded", function () {
            const mainViewer = new PDFViewer("pdf-canvas", {
              prevPage: "prev-page",
              nextPage: "next-page",
              randomPage: "random-page",
              pageNum: "page-num",
              goPage: "go-page",
              downloadPDF: "download-pdf",
              pdfUrl: "./books/main.pdf",
              minPage: 1,
              maxPage: 182,
              randomMin: 21,
              randomMax: 172,
            });
            mainViewer.loadDocument(mainViewer.controls.pdfUrl);
            mainViewer.setupEventListeners();
          });
        </script>

        <div class="verse-form-container">
          <label for="verseNumber"
            >Type the verse number (1 to 423) you would like to study:</label
          >
          <form id="verseForm" onsubmit="fetchVerseDetails(); return false;">
            <input type="number" id="verseNumber" min="1" max="423" required />
            <button type="submit">Enter</button>
          </form>
        </div>
        <div id="verseDetails"></div>
        <!-- Keeping the verse details outside the form container for clarity -->

        <div style="margin-top: 120px"></div>
        <!-- This div adds the empty space -->
        <hr
          style="
            border: 1px solid;
            color: inherit;
            background-color: inherit;
            width: 70%;
            margin: 0 auto;
          "
        />

        <div class="license">
          <h2>
            <em
              >About the credits and license of the photos used in this
              website</em
            >
          </h2>
          <p class="license">
            The pictures were taken from pexels.com, specifically from
            <a
              class="license"
              href="https://www.pexels.com/photo/japan-suicide-forest-634770/"
              >this link</a
            >
            and from
            <a
              class="license"
              href="https://www.pexels.com/photo/clouds-under-full-moon-239107/"
              >this link</a
            >. Please note that depicted content is protected by privacy,
            copyright or trademark rights. I use it in the terms explained in
            the terms explain at this
            <a
              class="license"
              href="https://help.pexels.com/hc/en-us/articles/360042295174-What-is-the-license-of-the-photos-and-videos-on-Pexels."
              >this link</a
            >. In particular, here I explicitly state that the author is not
            endorsing or taking part in this non-comersial website service.
          </p>
        </div>

        <div class="license">
          <h2><em>PDF.js library acknowledgements</em></h2>
          <p class="license">
            This website utilizes PDF.js, an open-source library developed by
            the Mozilla community for rendering PDF documents in web
            environments. PDF.js is distributed under the Apache License 2.0.
            For more information about the license, you can view the full text
            <a
              class="license"
              href="https://www.apache.org/licenses/LICENSE-2.0"
              >here.</a
            >
            Copyright &copy; 2024 Contributors of PDF.js
          </p>
        </div>

        <div class="license">
          <h2><em>Contact me</em></h2>
          <p class="license">
            In case you want to contact the person who made and keeps this
            website running, pls write me an email dharmatacos@gmail.com.
          </p>
        </div>

        <div style="margin-top: 120px"></div>
      </main>

      <footer>
        <div class="footer-image">
          <img
            src="./assets/pexels-soumenmaity-634770_bottom.jpg"
            alt="Footer Image"
          />
        </div>
      </footer>
    </div>

    <!-- Scripts at the end of the body for better loading performance -->
    <script src="js/PDFViewer.js"></script>
    <!-- If still needed for other PDF viewing instances -->
    <script src="js/CommentsViewer.js"></script>
    <script src="js/tools.js"></script>
    <script src="js/passwordProtection.js"></script>
    <!-- Include the new password protection script -->
  </body>
</html>
